
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‚¬ë‹¤ë¦¬ ì˜ˆì¸¡ê¸°</title>
  <style>
    body {{ font-family: sans-serif; text-align: center; padding: 2em; }}
    button {{ font-size: 1.2em; padding: 0.5em 1em; }}
    #result {{ margin-top: 2em; font-size: 1.4em; white-space: pre-line; }}
  </style>
</head>
<body>
  <h1>ğŸ”® ì˜ˆì¸¡ ì‹¤í–‰</h1>
  <button onclick="predict()">ì˜ˆì¸¡ ì‹¤í–‰</button>
  <div id="result"></div>

  <script>
    async function predict() {{
      const res = await fetch("https://ladder-proxy-production.up.railway.app/recent-result");
      const data = await res.json();

      // 3~5ì¤„ íŒ¨í„´ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¥ ë§ì€ ë¸”ëŸ­ ì¶”ì¶œ (ì˜ˆì‹œ: ë‹¨ìˆœ line_count íŒ¨í„´ ë¹ˆë„)
      const patternMap = {{}};
      for (let i = 0; i < data.length - 2; i++) {{
        let key = data.slice(i, i+3).map(d => d.start_point + d.line_count + d.odd_even).join("|");
        patternMap[key] = (patternMap[key] || 0) + 1;
      }}

      const sorted = Object.entries(patternMap).sort((a,b)=>b[1]-a[1]);
      const top3 = sorted.slice(0,3).map((item, i) => `TOP${i+1}: ${item[0]}\n`);

      document.getElementById("result").innerText = top3.join("");
    }}
  </script>
</body>
</html>
