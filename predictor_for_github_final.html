<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>🍊 예측 실행</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; }
    h1 { font-size: 2em; }
    .loading { color: gray; font-style: italic; }
  </style>
</head>
<body>
  <h1>🍊 예측 실행</h1>
  <p>📂 예측 회차: <span id="round" class="loading">불러오는 중...</span></p>

  <h2>앞 기준 Top 5</h2>
  <ul id="forward">
    <li class="loading">⏳ 데이터 불러오는 중...</li>
  </ul>

  <script>
    fetch("https://ladder-proxy-production.up.railway.app/predict")
      .then(response => response.json())
      .then(data => {
        const forwardList = document.getElementById("forward");
        const roundEl = document.getElementById("round");
        forwardList.innerHTML = "";

        if (data["앞기준 예측값"] && data["앞기준 예측값"].length > 0) {
          data["앞기준 예측값"].forEach((item, index) => {
            const li = document.createElement("li");
            li.textContent = `${index + 1}위: ${item}`;
            forwardList.appendChild(li);
          });
        } else {
          forwardList.innerHTML = "<li>❌ 데이터 없음</li>";
        }

        roundEl.textContent = data["예측회차"] ? `${data["예측회차"]}회차` : "불러오기 실패";
      })
      .catch(err => {
        document.getElementById("forward").innerHTML = "<li>❌ 예측 실패</li>";
        document.getElementById("round").textContent = "에러 발생";
        console.error(err);
      });
  </script>
</body>
</html>
